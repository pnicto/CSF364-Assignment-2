# Code Design and Issues

## Code Design

The project has been structured as follows and the explanation of each directory is given below:

```
├── docs
├── include
├── md_docs
├── main.cpp
├── profiling
├── scripts
└── src
```

-   **docs** - This directory contains the documentation generated by Doxygen. The documentation is generated in the `html` format and can be accessed by opening the `index.html` file in a browser.
-   **include** - This directory contains the header files of the project.
-   **md_docs** - This directory contains the markdown files used to generate additional documentation using Doxygen.
-   **main.cpp** - This file is the entry point of the project and contains the main function.
-   **profiling** - This directory contains the profiling results of the project and also the scripts used to generate the profiling results.
-   **scripts** - This directory contains the scripts that not related to any of the other directories.
-   **src** - This directory contains the source files of the project.-

As this project has only one algorithm, the code is designed with simplicity in mind. There is one RNA class that contains all the functions related to the RNA sequence. But if was required to extend this project to include more algorithms, then the code would be structured in a way that each algorithm would have its own class and each would extend a common base class similar to that of the code in `profiling` directory.

## Issues

### Algorithm Design

The algorithm/method RNA::numOfPairs() discussed in Algorithm Design by Eva Tardos and Jon Kleinberg and described in class does not compute RNA pairs, it just counts them. So, we had to modify the algorithm to save pair choices at every stage. Subsequently we compute pairs with RNA::computePairs() using these choices in a recursive manner. This does not increase the complexity because RNA::computePairs() is run after RNA::numOfPairs(), and as they share a similar recursive structure, RNA::computePairs() has no repeating subproblems as the solution for each subproblem is already memoized by RNA::numOfPairs() in the shared array RNA::jPairs.

### Buggy RNA on rnacentral.org

1. Some RNA on https://rnacentral.org is buggy and corrupt. For example:
   This RNA https://rnacentral.org/rna/URS0000ABD8B3/9606 has a rogue character `N` appearing in the sequence.
2. The dot bracket notational secondary structure is invalid sometimes due to (a) parenthetical sequence being invalid (due to mismatching parenthesis) or (b) length being different from initial RNA sequence.
